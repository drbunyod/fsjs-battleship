(()=>{"use strict";var t={56:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},72:t=>{var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var s={},a=[],o=0;o<t.length;o++){var l=t[o],c=r.base?l[0]+r.base:l[0],u=s[c]||0,d="".concat(c," ").concat(u);s[c]=u+1;var h=n(d),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==h)e[h].references++,e[h].updater(p);else{var f=i(p,r);r.byIndex=o,e.splice(o,0,{identifier:d,updater:f,references:1})}a.push(d)}return a}function i(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,i){var s=r(t=t||[],i=i||{});return function(t){t=t||[];for(var a=0;a<s.length;a++){var o=n(s[a]);e[o].references--}for(var l=r(t,i),c=0;c<s.length;c++){var u=n(s[c]);0===e[u].references&&(e[u].updater(),e.splice(u,1))}s=l}}},113:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},314:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,i,s){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(r)for(var o=0;o<this.length;o++){var l=this[o][0];null!=l&&(a[l]=!0)}for(var c=0;c<t.length;c++){var u=[].concat(t[c]);r&&a[u[0]]||(void 0!==s&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=s),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),i&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=i):u[4]="".concat(i)),e.push(u))}},e}},523:(t,e,n)=>{n.d(e,{A:()=>o});var r=n(601),i=n.n(r),s=n(314),a=n.n(s)()(i());a.push([t.id,"body {\n  font-family: sans-serif;\n  font-size: 0.9em;\n}\n\n.header {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n#game-status {\n  padding: 10px;\n  background-color: #f5f2f2;\n}\n\n.container {\n  display: flex;\n  justify-content: space-around;\n}\n\n.side {\n  text-align: center;\n}\n\n.board {\n  display: grid;\n  grid-template-columns: repeat(11, 30px);\n  grid-template-rows: repeat(11, 30px);\n  gap: 1px;\n}\n\n.cell {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 30px;\n  height: 30px;\n  border: 1px solid #000000;\n  cursor: pointer;\n}\n\n.cell:hover {\n  background-color: #cccccc;\n}\n\n.cell-invisible {\n  border: none;\n  cursor: auto;\n}\n\n.cell-invisible:hover {\n  background-color: #ffffff;\n  cursor: default;\n}\n\n.ship,\n.ship:hover {\n  color: #2a3f02;\n  background-color: #729b26;\n  font-size: 1.8em;\n  cursor: default;\n}\n\n.hit,\n.hit:hover {\n  color: #ff0000;\n  background-color: #fc9090;\n  font-size: 2em;\n  cursor: default;\n}\n\n.miss,\n.miss:hover {\n  background-color: #8fccdb;\n  cursor: default;\n}\n\n.board-title {\n  margin-bottom: 0;\n}\n\n.remaining-ships {\n  margin-top: 3px;\n  color: #969494;\n  font-size: 0.8em;\n}\n",""]);const o=a},540:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},601:t=>{t.exports=function(t){return t[1]}},659:t=>{var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var s=n.sourceMap;s&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var s=e[r]={id:r,exports:{}};return t[r](s,s.exports,n),s.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nc=void 0;const r=class{constructor(t){this.length=t,this.hits=0,this.coordinates=[]}hit(){this.hits<this.length&&(this.hits=this.hits+1)}isSunk(){return this.hits===this.length}setCoordinates(t){this.coordinates.push(...t)}hasCoordinate(t,e){for(const n of this.coordinates)if(n[0]===t&&n[1]===e)return!0;return!1}},i=class{constructor(){this.grid=Array.from({length:10},(()=>Array.from({length:10},(()=>null)))),this.ships=this.createShips(),this.placeShips()}createShips(){const t=[];t.push(new r(4));for(let e=0;e<2;e++)t.push(new r(3));for(let e=0;e<3;e++)t.push(new r(2));for(let e=0;e<4;e++)t.push(new r(1));return t}placeShips(){for(const t of this.ships){let e,n;for(;;){let r,i,s;for(;r=Math.floor(10*Math.random()),i=Math.floor(10*Math.random()),s=Math.floor(2*Math.random()),!this.isValidStart(r,i,s,t.length););if(e=this.getShipCoordinates(r,i,s,t.length),n=this.getShipSurroundings(r,i,s,t.length),this.isValidPosition([...e,...n]))break}this.placeShip(e),t.setCoordinates(e)}}placeShip(t){for(const e of t)this.grid[e[0]][e[1]]=1}isValidStart(t,e,n,r){return 0===n?e+r-1<10:1===n?t+r-1<10:void 0}isValidPosition(t){for(const e of t)if(e[0]>=0&&e[0]<10&&e[1]>=0&&e[1]<10&&null!==this.grid[e[0]][e[1]])return!1;return!0}getShipCoordinates(t,e,n,r){const i=[];for(let s=0;s<r;s++)0===n?i.push([t,e+s]):1===n&&i.push([t+s,e]);return i}getShipSurroundings(t,e,n,r){const i=[];for(let s=0;s<r;s++)0===n?(i.push([t-1,e+s]),i.push([t+1,e+s])):1===n&&(i.push([t+s,e-1]),i.push([t+s,e+1]));for(let s=-1;s<=1;s++)0===n?(i.push([t+s,e-1]),i.push([t+s,e+r])):1===n&&(i.push([t-1,e+s]),i.push([t+r,e+s]));return i}receiveAttack(t,e){if(1===this.grid[t][e]){for(const n of this.ships)if(n.hasCoordinate(t,e))return n.hit(),this.grid[t][e]=2,n.isSunk()&&this.revealSurroundings(n),!0}else if(null===this.grid[t][e])return this.grid[t][e]=0,!1}revealSurroundings(t){let e=0;t.length>1&&(e=Math.abs(t.coordinates[0][0]-t.coordinates[1][0]));const n=this.getShipSurroundings(t.coordinates[0][0],t.coordinates[0][1],e,t.length);for(const t of n)t[0]>=0&&t[0]<10&&t[1]>=0&&t[1]<10&&null===this.grid[t[0]][t[1]]&&(this.grid[t[0]][t[1]]=0)}getRemainingShips(){let t=0;for(const e of this.ships)e.isSunk()||t++;return t}areAllShipsSunk(){for(const t of this.ships)if(!t.isSunk())return!1;return!0}},s=class{constructor(t){this.type=t,this.gameboard=new i}randomizeGrid(){this.gameboard=new i}};var a=n(72),o=n.n(a),l=n(825),c=n.n(l),u=n(659),d=n.n(u),h=n(56),p=n.n(h),f=n(540),m=n.n(f),g=n(113),y=n.n(g),v=n(523),S={};S.styleTagTransform=y(),S.setAttributes=p(),S.insert=d().bind(null,"head"),S.domAPI=c(),S.insertStyleElement=m(),o()(v.A,S),v.A&&v.A.locals&&v.A.locals;const b=new class{constructor(t){this.player1=new s("real"),this.player2=new s(t),this.isRunning=!1,this.turn=null,this.winner=null}start(){this.player1.randomizeGrid(),this.player2.randomizeGrid(),this.isRunning=!0,this.turn=1}restart(){this.isRunning=!1,this.turn=null,this.player1.randomizeGrid(),this.player2.randomizeGrid()}end(t){this.isRunning=!1,this.turn=null,this.winner=t}attackBoard(t,e){if(this.isRunning)if(1===this.turn){const n=this.player2.gameboard.receiveAttack(t,e);n&&this.player2.gameboard.areAllShipsSunk()&&this.end(1),n||(this.turn=2)}else if(2===this.turn){const n=this.player1.gameboard.receiveAttack(t,e);n&&this.player1.gameboard.areAllShipsSunk()&&this.end(2),n||(this.turn=1)}}computerAttack(){for(;;){const t=Math.floor(10*Math.random()),e=Math.floor(10*Math.random()),n=this.player1.gameboard.grid[t][e];if(null===n||1===n)return void this.attackBoard(t,e)}}}("computer"),x=new class{constructor(t){this.game=t,this.gameStatusText=document.querySelector("#game-status"),this.player1Board=document.querySelector("#player-1-board"),this.player2Board=document.querySelector("#player-2-board"),this.player1RemainingShips=document.querySelector("#player-1-ships"),this.player2RemainingShips=document.querySelector("#player-2-ships"),this.playButton=document.querySelector("#play-button"),this.randomizeButton=document.querySelector("#randomize-button"),this.playButton.addEventListener("click",(t=>{t.target.classList.contains("play")?this.game.start():t.target.classList.contains("restart")&&confirm("Are you sure you want to restart?")&&this.game.restart(),this.updateScreen()})),this.randomizeButton.addEventListener("click",(()=>{this.game.player1.randomizeGrid(),this.updateScreen()}))}displayBoard(t,e,n=!0){t.innerHTML="";const r=document.createElement("div");r.classList.add("cell","cell-invisible"),t.appendChild(r);for(let e="A".charCodeAt(0);e<="J".charCodeAt(0);e++){const n=document.createElement("div");n.classList.add("cell","cell-invisible"),n.textContent=String.fromCharCode(e),t.appendChild(n)}for(let r=0;r<10;r++){const i=document.createElement("div");i.classList.add("cell","cell-invisible"),i.textContent=r+1,t.appendChild(i);for(let i=0;i<10;i++){const s=document.createElement("div");s.classList.add("cell"),0===e[r][i]?(s.classList.add("miss"),s.textContent="•"):1===e[r][i]?n?(s.classList.add("ship"),s.textContent="◼"):s.addEventListener("click",(()=>{this.game.attackBoard(r,i),this.updateScreen()})):2===e[r][i]?(s.classList.add("hit"),s.textContent="×"):null===e[r][i]&&s.addEventListener("click",(()=>{this.game.attackBoard(r,i),this.updateScreen()})),t.appendChild(s)}}}updateScreen(){this.game.isRunning?this.gameStatusText.textContent=["Your turn.","Opponent's turn."][this.game.turn-1]:1===this.game.winner?this.gameStatusText.textContent="Game over. You won!":2===this.game.winner?this.gameStatusText.textContent="Game over. You lost!":this.gameStatusText.textContent="Press Play to start a new game.",this.displayBoard(this.player1Board,this.game.player1.gameboard.grid),this.displayBoard(this.player2Board,this.game.player2.gameboard.grid,!1),this.player1RemainingShips.textContent=this.game.player1.gameboard.getRemainingShips(),this.player2RemainingShips.textContent=this.game.player2.gameboard.getRemainingShips(),this.game.isRunning?(this.playButton.classList.add("restart"),this.playButton.classList.remove("play"),this.playButton.textContent="Restart 🔄",this.randomizeButton.disabled=!0):(this.playButton.classList.add("play"),this.playButton.classList.remove("restart"),this.playButton.textContent="Play ▶",this.randomizeButton.disabled=!1)}}(b);x.updateScreen();let C=performance.now();const k=t=>{(b.isRunning||null===b.winner)&&(t-C>=1e3&&("computer"===b.player2.type&&2===b.turn&&(b.computerAttack(),x.updateScreen()),C=t),requestAnimationFrame(k))};requestAnimationFrame(k)})();